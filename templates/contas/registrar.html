{% extends "base.html" %}
{% load static %}

{% block content %}
<style>
  /* ====== Página (mesma pegada do Sonhe + Alto) ====== */
  .sma-auth-wrap{
    max-width: 980px;
    margin: 0 auto;
    padding: 1.6rem 1rem 2.5rem;
  }

  .sma-topbar{
    background: #f7e7c6; /* faixa clara */
    border-radius: 22px;
    padding: 1rem 1.2rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    box-shadow: 0 14px 34px rgba(0,0,0,.12);
  }

  .sma-brand{
    display: flex;
    align-items: center;
    gap: .9rem;
    text-decoration: none;
    color: #0f172a;
    min-width: 240px;
  }
  .sma-brand img{
    width: 84px;
    height: auto;
    background: #fff;
    padding: .45rem .6rem;
    border-radius: 18px;
    box-shadow: 0 10px 24px rgba(0,0,0,.10);
  }
  .sma-brand .t1{
    font-weight: 800;
    font-size: 1.05rem;
    line-height: 1.15;
  }
  .sma-brand .t2{
    margin-top: .12rem;
    font-size: .9rem;
    color: #334155;  /* mais escuro */
  }

  .sma-actions{
    display: flex;
    align-items: center;
    gap: .55rem;
    flex-wrap: wrap;
    justify-content: flex-end;
  }
  .sma-pill{
    border: 1px solid #d7a62a;
    background: #fff;
    color: #1d4ed8;
    font-weight: 700;
    font-size: .9rem;
    padding: .35rem .78rem;
    border-radius: 999px;
    text-decoration: none;
    transition: .15s ease;
    white-space: nowrap;
  }
  .sma-pill:hover{
    background: #fff4dc;
  }

  .sma-card{
    margin-top: 1rem;
    background: #fff;
    border-radius: 28px;
    padding: 1.6rem 1.6rem 1.4rem;
    box-shadow: 0 18px 44px rgba(0,0,0,.14);
  }

  .sma-title{
    font-size: 1.9rem;
    margin: 0 0 .3rem;
    color: #0b1220;
    font-weight: 900;
  }
  .sma-sub{
    margin: 0 0 1.2rem;
    color: #334155; /* mais escuro */
    font-size: .98rem;
  }

  .sma-errors{
    background: #fff1f2;
    border: 1px solid #fecdd3;
    color: #9f1239;
    border-radius: 14px;
    padding: .8rem .9rem;
    margin-bottom: 1rem;
    font-size: .92rem;
  }

  .sma-form-grid{
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: .95rem 1rem;
  }
  .sma-form-grid .span2{ grid-column: span 2; }

  @media (max-width: 720px){
    .sma-topbar{ flex-direction: column; align-items: flex-start; }
    .sma-actions{ width: 100%; justify-content: flex-start; }
    .sma-form-grid{ grid-template-columns: 1fr; }
    .sma-form-grid .span2{ grid-column: auto; }
  }

  .sma-field label{
    display: block;
    font-weight: 800;
    color: #0f172a;
    font-size: .92rem;
    margin-bottom: .25rem;
  }

  /* Aplica mesmo se o form não vier com classes */
  .sma-field input[type="text"],
  .sma-field input[type="email"],
  .sma-field input[type="password"]{
    width: 100%;
    border: 1px solid #cbd5e1;
    border-radius: 14px;
    padding: .62rem .7rem;
    font-size: 1rem;
    color: #0b1220;
    background: #fff;
  }
  .sma-field input:focus{
    outline: none;
    border-color: #f59e0b;
    box-shadow: 0 0 0 4px rgba(245,158,11,.18);
  }

  .sma-help{
    margin-top: .25rem;
    font-size: .85rem;
    color: #475569; /* mais escuro */
  }

  .sma-field .errorlist{
    margin: .35rem 0 0;
    padding-left: 1.1rem;
    color: #b91c1c;
    font-size: .88rem;
  }

  .sma-bottom{
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    flex-wrap: wrap;
    margin-top: 1.1rem;
  }

  .sma-btn{
    border: none;
    border-radius: 999px;
    padding: .62rem 1.05rem;
    font-weight: 900;
    cursor: pointer;
  }
  .sma-btn-primary{
    background: #2563eb;
    color: #fff;
    box-shadow: 0 10px 24px rgba(37,99,235,.20);
  }
  .sma-btn-primary:hover{ filter: brightness(.98); }

  .sma-link{
    color: #1d4ed8;
    font-weight: 800;
    text-decoration: none;
  }
  .sma-link:hover{ text-decoration: underline; }

  .sma-footer{
    margin-top: 1.15rem;
    text-align: center;
    color: #334155;
    font-size: .86rem;
  }
  .sma-footer a{ color: #1d4ed8; text-decoration: none; font-weight: 800; }
  .sma-footer a:hover{ text-decoration: underline; }
</style>

<div class="sma-auth-wrap">

  <div class="sma-topbar">
    <a class="sma-brand" href="/projeto21/">
      {# AJUSTE o caminho do logo para o mesmo que você já usa no Sonhe + Alto #}
      <img src="{% static 'projeto21/img/logo-sonhe-alto.png' %}" alt="Sonhe + Alto">
      <div>
        <div class="t1">Projeto Sonhe + Alto</div>
        <div class="t2">Crie sua conta para acessar kits e plano</div>
      </div>
    </a>

    <div class="sma-actions">
      <a class="sma-pill" href="{% url 'contas:login' %}">Já tenho conta</a>
      <a class="sma-pill" href="/projeto21/">Voltar ao Sonhe + Alto</a>
    </div>
  </div>

  <div class="sma-card">
    <h1 class="sma-title">Criar conta</h1>
    <p class="sma-sub">
      Dica: se você comprou na Hotmart, use o <strong>mesmo e-mail</strong>.
    </p>

    {% if form.non_field_errors %}
      <div class="sma-errors">
        {{ form.non_field_errors }}
      </div>
    {% endif %}

    <form method="post" novalidate>
      {% csrf_token %}

      <div class="sma-form-grid">
        <div class="sma-field">
          <label for="{{ form.first_name.id_for_label }}">Nome</label>
          {{ form.first_name }}
          {{ form.first_name.errors }}
        </div>

        <div class="sma-field">
          <label for="{{ form.last_name.id_for_label }}">Sobrenome</label>
          {{ form.last_name }}
          {{ form.last_name.errors }}
        </div>

        <div class="sma-field span2">
          <label for="{{ form.email.id_for_label }}">E-mail</label>
          {{ form.email }}
          {{ form.email.errors }}
        </div>

        <div class="sma-field">
          <label for="{{ form.password1.id_for_label }}">Senha</label>
          {{ form.password1 }}
          {{ form.password1.errors }}
          <div class="sma-help">Use uma senha forte.</div>
        </div>

        <div class="sma-field">
          <label for="{{ form.password2.id_for_label }}">Confirmar senha</label>
          {{ form.password2 }}
          {{ form.password2.errors }}
        </div>
      </div>

      <div class="sma-bottom">
        <label class="sma-help" style="display:flex; gap:.5rem; align-items:center;">
          <input type="checkbox" id="toggle-pass">
          Mostrar senha
        </label>

        <button class="sma-btn sma-btn-primary" type="submit">Criar conta</button>

        <div class="sma-help">
          Já tem conta? <a class="sma-link" href="{% url 'contas:login' %}">Já tenho conta</a>
        </div>
      </div>

    </form>
  </div>

  <div class="sma-footer">
    © Escola no Ar ·
    <a href="/sobre/">Sobre</a> ·
    <a href="/contato/">Contato</a> ·
    <a href="/privacidade/">Política de Privacidade</a>
  </div>

</div>

<script>
  (function(){
    const ck = document.getElementById("toggle-pass");
    if (!ck) return;
    ck.addEventListener("change", function(){
      const p1 = document.getElementById("{{ form.password1.id_for_label }}");
      const p2 = document.getElementById("{{ form.password2.id_for_label }}");
      const type = ck.checked ? "text" : "password";
      if (p1) p1.type = type;
      if (p2) p2.type = type;
    });
  })();
</script>

{% endblock %}
